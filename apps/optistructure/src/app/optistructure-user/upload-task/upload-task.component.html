<ng-container *ngIf="snapshot$ | async as snap">
  <div class="flex flex-row w-80 m-auto mt-2 text-xs align-middle">
    <ng-container *ngIf="percentage$ | async as pct">
      <ng-container *ngIf="pct < 100">
        <div>{{ file.name }}</div>
        <div class="ml-2"><progress [value]="pct" max="100"></progress></div>
        <div class="ml-2">{{ pct | number }}%</div>
      </ng-container>
      <ng-container *ngIf="pct == 100">
        <div>
          <a class="text-indigo-500" [href]="downloadURL">{{ file.name }}</a>
        </div>
        <div class="ml-2">
          ({{ snap.totalBytes / 1024 | number: '1.2-2' }} K)
        </div>
        <div class="ml-2 cursor-pointer">
          <span class="font-semibold" (click)="dclick()">&times;</span>
        </div>
      </ng-container>
    </ng-container>

    <!-- <div *ngIf="snapshot | async as snap">
    {{ snap.bytesTransferred }} of {{ snap.totalBytes }}

    <div *ngIf="downloadURL as url">
      <h3>Results!</h3>
      <img [src]="url" /><br />
      <a [href]="url" target="_blank" rel="noopener">Download Me!</a>
    </div>

    <button (click)="task.pause()" [disabled]="!isActive(snap)">Pause</button>
    <button (click)="task.cancel()" [disabled]="!isActive(snap)">Cancel</button>
    <button (click)="task.resume()" [disabled]="!(snap?.state === 'paused')">
      Resume
    </button>
  </div> -->
  </div>
</ng-container>
